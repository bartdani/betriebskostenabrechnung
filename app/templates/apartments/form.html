{% extends "base.html" %}
{% from "macros.html" import render_field with context %}

{% block content %}
    {% if form.instance_id and form.instance_id.data %}
        <h1>Wohnung bearbeiten</h1>
    {% else %}
        <h1>Neue Wohnung anlegen</h1>
    {% endif %}

    <nav aria-label="breadcrumb" class="mb-3">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ url_for('apartments.list_apartments') }}">Wohnungen</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{ 'Bearbeiten' if form.instance_id and form.instance_id.data else 'Neu' }}</li>
      </ol>
    </nav>

    <form method="POST" action="" novalidate>
        {{ form.hidden_tag() }}

        <fieldset class="border rounded p-3 mb-3">
          <legend class="float-none w-auto px-2">Grunddaten</legend>
          {{ render_field(form.number, class='form-control') }}
          {{ render_field(form.address, class='form-control') }}
          {{ render_field(form.size_sqm, class='form-control', type='number', step='0.01') }}
          {{ render_field(form.building_id, class='form-select') }}
        </fieldset>

        <div class="mt-3">
            {{ form.submit(class='btn btn-primary') }}
            <a href="{{ url_for('apartments.list_apartments') }}" class="btn btn-outline-secondary">Abbrechen</a>
        </div>
    </form>
{% endblock %}
